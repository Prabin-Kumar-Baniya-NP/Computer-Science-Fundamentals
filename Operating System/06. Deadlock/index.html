
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.1, mkdocs-material-8.5.6">
    
    
      
        <title>Deadlock in Operating System - Programming Fundamentals</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.20d9efc8.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.cbb835fc.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#deadlock-in-operating-system" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Programming Fundamentals" class="md-header__button md-logo" aria-label="Programming Fundamentals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.78 4.97a.75.75 0 0 1 0 1.06L2.81 12l5.97 5.97a.75.75 0 1 1-1.06 1.06l-6.5-6.5a.75.75 0 0 1 0-1.06l6.5-6.5a.75.75 0 0 1 1.06 0zm6.44 0a.75.75 0 0 0 0 1.06L21.19 12l-5.97 5.97a.75.75 0 1 0 1.06 1.06l6.5-6.5a.75.75 0 0 0 0-1.06l-6.5-6.5a.75.75 0 0 0-1.06 0z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Programming Fundamentals
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Deadlock in Operating System
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Programming Fundamentals" class="md-nav__button md-logo" aria-label="Programming Fundamentals" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M8.78 4.97a.75.75 0 0 1 0 1.06L2.81 12l5.97 5.97a.75.75 0 1 1-1.06 1.06l-6.5-6.5a.75.75 0 0 1 0-1.06l6.5-6.5a.75.75 0 0 1 1.06 0zm6.44 0a.75.75 0 0 0 0 1.06L21.19 12l-5.97 5.97a.75.75 0 1 0 1.06 1.06l6.5-6.5a.75.75 0 0 0 0-1.06l-6.5-6.5a.75.75 0 0 0-1.06 0z"/></svg>

    </a>
    Programming Fundamentals
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Computer Networking
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Computer Networking" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Computer Networking
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2_1" type="checkbox" id="__nav_2_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2_1">
          Basics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Basics" data-md-level="2">
        <label class="md-nav__title" for="__nav_2_1">
          <span class="md-nav__icon md-icon"></span>
          Basics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Computer%20Networking/01.Basics/01.Basics/" class="md-nav__link">
        Terminology
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Computer%20Networking/01.Basics/02.TransmissionMode/" class="md-nav__link">
        Transmission Mode
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Computer%20Networking/01.Basics/03.Topology/" class="md-nav__link">
        Topology
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#necessary-conditions-for-deadlocks" class="md-nav__link">
    Necessary conditions for Deadlocks
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#strategies-to-handle-deadlock" class="md-nav__link">
    Strategies to handle Deadlock
  </a>
  
    <nav class="md-nav" aria-label="Strategies to handle Deadlock">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deadlock-prevention" class="md-nav__link">
    Deadlock Prevention
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deadlock-avoidance" class="md-nav__link">
    Deadlock Avoidance
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deadlock-detection" class="md-nav__link">
    Deadlock Detection
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deadlock-recovery" class="md-nav__link">
    Deadlock Recovery
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="deadlock-in-operating-system">Deadlock in Operating System</h1>
<ul>
<li>
<p>A Deadlock is a situation where each of the computer process waits for a resource which is being assigned to some another process.</p>
</li>
<li>
<p>In this situation, none of the process gets executed since the resource it needs, is held by some other process which is also waiting for some other resource to be released.</p>
</li>
<li>
<p><img alt="Deadlock" src="https://static.javatpoint.com/operating-system/images/os-deadlock.png" /></p>
</li>
<li>
<p>Deadlock VS Starvation:</p>
</li>
<li>
<p>Deadlock is a situation where no process got blocked and no process proceeds.</p>
</li>
<li>Starvation is a situation where the low priority process got blocked and the high priority processes proceed.</li>
</ul>
<hr />
<h2 id="necessary-conditions-for-deadlocks">Necessary conditions for Deadlocks</h2>
<ol>
<li>
<p>Mutual Exclusion</p>
</li>
<li>
<p>A resource can only be shared in mutually exclusive manner.</p>
</li>
<li>
<p>It implies, if two process cannot use the same resource at the same time.</p>
</li>
<li>
<p>Hold and Wait</p>
</li>
<li>
<p>A process waits for some resources while holding another resource at the same time.</p>
</li>
<li>
<p>No preemption</p>
</li>
<li>
<p>The process which once scheduled will be executed till the completion. No other process can be scheduled by the scheduler meanwhile.</p>
</li>
<li>
<p>Circular Wait</p>
</li>
<li>All the processes must be waiting for the resources in a cyclic manner so that the last process is waiting for the resource which is being held by the first process.</li>
</ol>
<hr />
<h2 id="strategies-to-handle-deadlock">Strategies to handle Deadlock</h2>
<ol>
<li>
<p>Deadlock Ignorance</p>
</li>
<li>
<p>Deadlock Ignorance is the most widely used approach among all the mechanism.</p>
</li>
<li>This is being used by many operating systems mainly for end user uses.</li>
<li>In this approach, the Operating system assumes that deadlock never occurs.</li>
<li>It simply ignores deadlock.</li>
<li>
<p>This approach is best suitable for a single end user system where User uses the system only for browsing and all other normal stuff.</p>
</li>
<li>
<p>Deadlock prevention</p>
</li>
<li>
<p>Deadlock happens only when Mutual Exclusion, hold and wait, No preemption and circular wait holds simultaneously.</p>
</li>
<li>If it is possible to violate one of the four conditions at any time then the deadlock can never occur in the system.</li>
<li>
<p>The idea behind the approach is very simple that we have to fail one of the four conditions but there can be a big argument on its physical implementation in the system.</p>
</li>
<li>
<p>Deadlock avoidance</p>
</li>
<li>
<p>In deadlock avoidance, the operating system checks whether the system is in safe state or in unsafe state at every step which the operating system performs.</p>
</li>
<li>The process continues until the system is in safe state.</li>
<li>Once the system moves to unsafe state, the OS has to backtrack one step.</li>
<li>
<p>In simple words, The OS reviews each allocation so that the allocation doesn't cause the deadlock in the system.</p>
</li>
<li>
<p>Deadlock detection and recovery</p>
</li>
<li>This approach let the processes fall in deadlock and then periodically check whether deadlock occur in the system or not.</li>
<li>If it occurs then it applies some of the recovery methods to the system to get rid of deadlock.</li>
</ol>
<hr />
<h3 id="deadlock-prevention">Deadlock Prevention</h3>
<ul>
<li>
<p>If we can be able to violate one of the four necessary conditions and don't let them occur together then we can prevent the deadlock.</p>
</li>
<li>
<p>Mutual Exclusion</p>
</li>
<li>
<p>Spooling can be an effective approach to violate mutual exclusion but it suffers from some kinds of problems.</p>
</li>
<li>
<p>We cannot violate mutual exclusion for a process practically.</p>
</li>
<li>
<p>Hold and Wait</p>
</li>
<li>
<p>A process must be assigned all the necessary resources before the execution starts.</p>
</li>
<li>A process must not wait for any resource once the execution has been started.</li>
<li>
<p>But it is practically not possible. Possibility of getting starved will be increases due to the fact that some process may hold a resource for a very long time.</p>
</li>
<li>
<p>No Preemption</p>
</li>
<li>
<p>If we take the resource away from the process which is causing deadlock then we can prevent deadlock.</p>
</li>
<li>
<p>This is not a good approach at all since if we take a resource away which is being used by the process then all the work which it has done till now can become inconsistent.</p>
</li>
<li>
<p>Circular Wait</p>
</li>
<li>To violate circular wait, we can assign a priority number to each of the resource.</li>
<li>A process can't request for a lesser priority resource.</li>
<li>This ensures that not a single process can request a resource which is being utilized by some other process and no cycle will be formed.</li>
<li>Among all the methods, violating Circular wait is the only approach that can be implemented practically.</li>
</ul>
<hr />
<h3 id="deadlock-avoidance">Deadlock Avoidance</h3>
<ul>
<li>
<p>In deadlock avoidance, the request for any resource will be granted if the resulting state of the system doesn't cause deadlock in the system. The state of the system will continuously be checked for safe and unsafe states.</p>
</li>
<li>
<p>In order to avoid deadlocks, the process must tell OS, the maximum number of resources a process can request to complete its execution.</p>
</li>
<li>
<p>The simplest and most useful approach states that the process should declare the maximum number of resources of each type it may ever need. The Deadlock avoidance algorithm examines the resource allocations so that there can never be a circular wait condition.</p>
</li>
<li>
<p>A state of the system is called safe if the system can allocate all the resources requested by all the processes without entering into deadlock.</p>
</li>
<li>
<p>If the system cannot fulfill the request of all processes then the state of the system is called unsafe.</p>
</li>
<li>
<p>The key of Deadlock avoidance approach is when the request is made for resources then the request must only be approved in the case if the resulting state is also a safe state.</p>
</li>
</ul>
<hr />
<h3 id="deadlock-detection">Deadlock Detection</h3>
<ul>
<li>
<p>The OS can detect the deadlocks with the help of Resource allocation graph.</p>
</li>
<li>
<p>Detection</p>
</li>
<li>
<p>Single Instance --&gt; Detect Cycle</p>
</li>
<li>
<p>Multiple Instance --&gt; Safety Algorithm</p>
</li>
<li>
<p>In single instanced resource types, if a cycle is being formed in the system then there will definitely be a deadlock.</p>
</li>
<li>
<p>In multiple instanced resource type graph, detecting a cycle is not just enough. We have to apply the safety algorithm on the system by converting the resource allocation graph into the allocation matrix and request matrix.</p>
</li>
</ul>
<hr />
<h3 id="deadlock-recovery">Deadlock Recovery</h3>
<ul>
<li>
<p>In order to recover the system from deadlocks, either OS considers resources or processes.</p>
</li>
<li>
<p>For Resource</p>
</li>
<li>
<p>Preempt the resource</p>
<ul>
<li>We can snatch one of the resources from the owner of the resource (process) and give it to the other process with the expectation that it will complete the execution and will release this resource sooner. Well, choosing a resource which will be snatched is going to be a bit difficult.</li>
</ul>
</li>
<li>
<p>Rollback to a safe state</p>
<ul>
<li>
<p>System passes through various states to get into the deadlock state. The operating system canrollback the system to the previous safe state. For this purpose, OS needs to implement check pointing at every state.</p>
</li>
<li>
<p>The moment, we get into deadlock, we will rollback all the allocations to get into the previous safe state.</p>
</li>
</ul>
</li>
<li>
<p>For Process</p>
</li>
<li>
<p>Kill a process</p>
<ul>
<li>Killing a process can solve our problem but the bigger concern is to decide which process to kill.</li>
<li>Generally, Operating system kills a process which has done least amount of work until now.</li>
</ul>
</li>
<li>
<p>Kill all process</p>
<ul>
<li>This is not a suggestible approach but can be implemented if the problem becomes very serious.</li>
<li>Killing all process will lead to inefficiency in the system because all the processes will execute again from starting.</li>
</ul>
</li>
</ul>
<hr />





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": [], "search": "../../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.078830c0.min.js"></script>
      
    
  </body>
</html>